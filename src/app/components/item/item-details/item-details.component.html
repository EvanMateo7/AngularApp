<div class="itemDetails" *ngIf="selectedItem | async as item">
    <img class="itemImage" [src]="item.thumbnailURL">
    <div class="itemDetailsInfo">
      <p class="itemName">{{item.name}}</p>
      <p>{{item.description}}</p>
      <p class="itemPrice">${{item.price}}</p>
    </div>
    <hr>

    <form *ngIf="auth.user | async as user" (ngSubmit)="commentForm.valid && addComment()" #commentForm="ngForm">
      <div class="commentForm form-group">
        <label for="comment">Comment</label><br>
        <div class="commentGroup">
          <textarea type="text" maxlength="500" rows=4 class="form-control form-control-sm" 
            [(ngModel)]="comment.comment" 
            name="commentInput" 
            maxLineValidator 
            required 
            pattern="\s*\S+[\S\s]*" 
            #commentInput="ngModel"></textarea>
          <div [hidden]="!commentInput.errors?.pattern  || commentInput.pristine" class="alert-sm alert-danger sm">Empty.</div>
          <div [hidden]="!commentInput.errors?.maxLineValidator || commentInput.pristine" class="alert-sm alert-danger sm">Too many lines.</div>
        </div>
          <button type="submit" class="btn btn-primary" [disabled]="!commentForm.valid">Save</button>
      </div>
    </form>

    <div class="commentsList"  *ngFor="let comment of comments">
      <div class="commentUser">{{comment.userId}}</div>
      <p class="comment">{{comment.comment}}</p>
      <p class="timestamp">{{comment.timestamp | date:'short'}}</p>
    </div>  
    
    <button (click)='getMoreComments()'>Load more comments</button>

</div>


